<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
<script type="text/javascript" src="js/html2canvas.js"></script>
	</head>
	<body>
		<video width="600" height="650" style="background-position: ;background-repeat: no-repeat;"></video>
    <canvas width="600" height="650"></canvas>

    <p>
        <button id="snap">截取图像</button>	
        <button id="close">关闭摄像头</button>
        <button id="upload">上传图像</button>
							<button id="screenshot" class="btn btn-info" onclick="">截图</button>
    </p>

    <img id="uploaded" width="200" height="150" />
		
	</body>
	
	<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script type="text/javascript">
    // 获取媒体方法（旧方法）
    var canvas = $('canvas'),
        context = canvas.getContext('2d'),
        video = $('video');
	canvas.width = video.width;
	canvas.height = canvas.width*3/4;
	$('#screenshot').click(function () {
        context.drawImage(video, 0, 0);
    	var url = canvas.toDataURL('image/png');
    	video.style.backgroundImage= 'url('+url+')';
			html2canvas(document.body).then(function(canvas) {
	            document.body.appendChild(canvas);
	        });
	})
    </script>
	
	
</html>
